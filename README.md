# ClipArc

**智能剪贴板管理器** - macOS 原生应用，让您的复制粘贴工作更高效。

[![Platform](https://img.shields.io/badge/platform-macOS-blue.svg)](https://www.apple.com/macos)
[![Swift](https://img.shields.io/badge/Swift-5.0-orange.svg)](https://swift.org)
[![License](https://img.shields.io/badge/license-Proprietary-lightgrey.svg)](LICENSE)

---

## 功能概览

### 核心剪贴板功能

| 功能 | 描述 |
|------|------|
| **剪贴板历史记录** | 自动捕获所有剪贴板变化，支持 50/100/200/500 条历史记录 |
| **智能内容识别** | 自动识别 11+ 种内容类型：文本、URL、图片、文件、代码、颜色、邮箱、电话、数字、JSON 等 |
| **重复检测** | SHA-256 哈希算法检测重复内容，保持历史记录整洁 |
| **全局快捷键** | `⌘⇧V` 快速唤起剪贴板面板，随时随地访问历史 |

### 智能内容类型支持

- **文本** - 纯文本内容，自动生成预览（最多 200 字符，5 行）
- **图片** - 支持 PNG/TIFF 格式，自动转换并存储尺寸信息
- **文件** - 追踪来自 Finder 的文件拖放和复制操作
- **URL** - 识别 HTTP/HTTPS/FTP 链接，自动获取网页标题
- **代码** - 识别 Swift、JavaScript、Python、Java、C/C++、SQL、HTML、PHP 代码
- **颜色** - 检测十六进制颜色、RGB/RGBA、HSL 格式
- **邮箱/电话** - 自动识别并分类邮箱地址和电话号码
- **JSON** - 识别有效的 JSON 对象和数组
- **数字** - 识别数值（包括小数、负数、货币符号）

### 粘贴模式

| 模式 | 描述 |
|------|------|
| **直接粘贴** | 自动模拟 `⌘V` 键入，一键粘贴到当前应用 |
| **复制到剪贴板** | 将选中内容复制到系统剪贴板 |
| **询问模式** | 每次操作时让用户选择粘贴方式 |

> 直接粘贴功能需要辅助功能权限，应用会引导您完成设置。

### 截图自动保存

- **截图监控** - 自动检测并捕获指定文件夹中的新截图
- **多语言支持** - 识别英语、中文、日语、德语、法语、西班牙语的截图命名
- **第三方工具** - 支持 CleanShot、Snagit、Skitch 等截图工具
- **安全访问** - 使用安全书签机制访问文件夹，符合沙盒规范

### 搜索与过滤

- **模糊搜索** - 灵活的模糊匹配算法，快速找到所需内容
- **智能排序** - 基于相关性评分的搜索结果排序
- **实时过滤** - 即时过滤剪贴板历史记录
- **多字段搜索** - 同时搜索内容和预览文本

### 用户界面

- **浮动面板** - 屏幕底部弹出的全宽浮动面板，360pt 高度
- **卡片视图** - 每个剪贴板项目以卡片形式展示，带类型专属样式
- **图片预览** - Quick Look 集成，支持文件缩略图
- **颜色预览** - 检测到的颜色显示色块预览
- **流畅动画** - 弹簧动画效果，响应式过渡
- **深色/浅色模式** - 自适应系统外观偏好

### 订阅与会员

| 方案 | 价格 | 说明 |
|------|------|------|
| **月度订阅** | $2.99/月 | 14 天免费试用 |
| **年度订阅** | $19.99/年 | 14 天免费试用，最划算 |
| **终身买断** | $59.99 | 一次购买，永久使用 |

**Pro 功能：**
- 无限历史记录（免费版限 5 条）
- 高级搜索功能
- 全局快捷键
- 直接粘贴功能

---

## 设置选项

### 通用设置

| 设置项 | 描述 |
|--------|------|
| **语言** | 支持中英文，运行时切换 |
| **外观** | 跟随系统 / 浅色 / 深色 |
| **开机启动** | macOS 启动时自动运行 |
| **Dock 显示** | 选择在 Dock 或仅在菜单栏显示 |
| **声音反馈** | 剪贴板事件的可选声音效果 |
| **粘贴模式** | 询问 / 直接粘贴 / 仅复制 |
| **历史上限** | 调整最大保留的剪贴板条目数 |

### 截图监控设置

| 设置项 | 描述 |
|--------|------|
| **启用监控** | 开启/关闭截图自动保存功能 |
| **监控文件夹** | 选择截图保存的目录（通常是桌面） |

---

## 系统集成

- **辅助功能权限** - 用于直接粘贴的键盘模拟
- **文件访问权限** - 用于截图监控的文件夹访问
- **菜单栏应用** - 作为后台应用运行，不占用 Dock 位置
- **LaunchAgent** - 系统级开机启动服务
- **NSWorkspace** - 获取运行中应用和工作空间信息

---

## 数据与隐私

### 本地存储

- **SwiftData** - 使用 Apple 现代数据框架进行本地存储
- **外部存储** - 图片和缩略图单独存储以优化性能
- **内容哈希** - SHA-256 哈希用于重复检测和内容验证
- **大小限制** - 单条内容限制 1MB，防止存储问题

### 隐私保护

- 所有数据存储在本地设备
- 不上传任何剪贴板内容到云端
- 符合 Apple App Store 隐私政策
- 包含隐私清单（Privacy Manifest）

---

## 系统要求

- **操作系统**: macOS 14.0 (Sonoma) 或更高版本
- **处理器**: Apple Silicon 或 Intel
- **存储空间**: 约 50MB

---

## 快捷键

| 快捷键 | 功能 |
|--------|------|
| `⌘⇧V` | 打开/关闭剪贴板面板 |
| `↑` / `↓` | 在历史记录中导航 |
| `Tab` | 切换选中项 |
| `Return` | 确认选择/粘贴 |
| `Esc` | 关闭面板 |

---

## 技术栈

- **语言**: Swift 5.0
- **UI 框架**: SwiftUI
- **数据持久化**: SwiftData
- **应用内购买**: StoreKit 2
- **快捷键**: Carbon Event Manager
- **键盘模拟**: CGEvent API

---

## 构建

```bash
# macOS 构建
xcodebuild -scheme ClipArc -configuration Debug -destination 'generic/platform=macOS'

# 清理构建
xcodebuild clean -scheme ClipArc

# 运行测试
xcodebuild test -scheme ClipArc -destination 'platform=macOS'
```

或在 Xcode 中打开 `ClipArc.xcodeproj`：
- `⌘B` 构建
- `⌘R` 运行
- `⌘U` 测试

---

## 支持

如有问题或建议，请通过以下方式联系：

- **邮箱**: [开发者邮箱]
- **GitHub Issues**: [项目地址]

---

## 许可证

Copyright © 2026 Adam Lyu. All rights reserved.

此软件为专有软件，未经授权不得复制、修改或分发。
